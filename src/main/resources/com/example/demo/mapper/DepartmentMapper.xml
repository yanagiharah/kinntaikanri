<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.DepartmentMapper">



<!-- ユーザー管理画面ログイン時の部署取得 -->
<select id="selectDepartment"
	resultType="com.example.demo.model.Department">
	SELECT *
	FROM department;
</select>


<!-- テーブル内のdepartment_nameに重複が無いかを確認ののちに登録 -->
<insert id="insertDepartment">
	INSERT INTO department (department_name, is_active)
	SELECT #{departmentName}, 1
	WHERE NOT EXISTS (
	SELECT 1
	FROM department
	WHERE department_name = #{departmentName}
);
</insert>


<!-- 日付指定範囲削除 -->
<!--<delete id="deleteByAttendanceOfMonth">-->
<!--	delete from attendance-->
<!--	WHERE attendance.user_id = #{userId} AND attendance_date BETWEEN #{targetDate} AND #{endDate};-->
<!--</delete>-->


</mapper>